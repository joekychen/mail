<!DOCTYPE html>
<html><head><title>joekychen/mail » lib › mail › parsers › rfc2822.rb
| Autogenerated from a Treetop grammar. Edits may be lost.
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>rfc2822.rb</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>Autogenerated from a Treetop grammar. Edits may be lost.</p></td><td class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">Mail</span>
  <span class="k">module</span> <span class="nn">RFC2822</span>
    <span class="kp">include</span> <span class="no">Treetop</span><span class="o">::</span><span class="no">Runtime</span>

    <span class="k">def</span> <span class="nf">root</span>
      <span class="vi">@root</span> <span class="o">||=</span> <span class="ss">:ALPHA</span>
    <span class="k">end</span>

    <span class="kp">include</span> <span class="no">RFC2822Obsolete</span>

    <span class="k">def</span> <span class="nf">_nt_ALPHA</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ALPHA</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ALPHA</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[a-zA-Z]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ALPHA</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_DIGIT</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:DIGIT</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:DIGIT</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[0-9]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:DIGIT</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_DQUOTE</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:DQUOTE</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:DQUOTE</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:DQUOTE</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_LF</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:LF</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:LF</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:LF</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_CR</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CR</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CR</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CR</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_CRLF</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CRLF</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CRLF</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">2</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CRLF</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_WSP</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:WSP</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:WSP</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x09\\x20]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:WSP</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">FWS0</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">FWS1</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_FWS</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:FWS</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:FWS</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s5</span><span class="o">.</span><span class="n">empty?</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">FWS0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">i7</span><span class="p">,</span> <span class="n">s7</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
        <span class="n">s7</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
        <span class="k">if</span> <span class="n">r8</span>
          <span class="n">s9</span><span class="p">,</span> <span class="n">i9</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
            <span class="k">if</span> <span class="n">r10</span>
              <span class="n">s9</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s9</span><span class="o">.</span><span class="n">empty?</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i9</span>
            <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">else</span>
            <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i9</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s9</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s7</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s7</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i7</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s7</span><span class="p">)</span>
          <span class="n">r7</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">FWS1</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i7</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r7</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
        <span class="k">else</span>
          <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_obs_FWS</span>
          <span class="k">if</span> <span class="n">r11</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:FWS</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">CFWS0</span>
      <span class="k">def</span> <span class="nf">comment</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">CFWS1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_CFWS</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CFWS</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CFWS</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">s1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_comment</span>
          <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
          <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">CFWS0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
        <span class="k">if</span> <span class="n">r7</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
        <span class="k">else</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">CFWS1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:CFWS</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_NO_WS_CTL</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:NO_WS_CTL</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:NO_WS_CTL</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x01-\\x08]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">true</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x0B-\\x0C]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x0E-\\x1F]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x7f]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">true</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:NO_WS_CTL</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_specials</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:specials</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:specials</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                  <span class="k">else</span>
                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span>
                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="kp">nil</span>
                    <span class="k">end</span>
                    <span class="k">if</span> <span class="n">r8</span>
                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r8</span>
                    <span class="k">else</span>
                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                      <span class="k">else</span>
                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
                      <span class="k">end</span>
                      <span class="k">if</span> <span class="n">r9</span>
                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
                      <span class="k">else</span>
                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\\&#39;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span>
                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s1">&#39;\\&#39;</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="kp">nil</span>
                        <span class="k">end</span>
                        <span class="k">if</span> <span class="n">r10</span>
                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r10</span>
                        <span class="k">else</span>
                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                          <span class="k">else</span>
                            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
                          <span class="k">end</span>
                          <span class="k">if</span> <span class="n">r11</span>
                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
                          <span class="k">else</span>
                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="k">else</span>
                              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="kp">nil</span>
                            <span class="k">end</span>
                            <span class="k">if</span> <span class="n">r12</span>
                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r12</span>
                            <span class="k">else</span>
                              <span class="n">r13</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
                              <span class="k">if</span> <span class="n">r13</span>
                                <span class="n">r0</span> <span class="o">=</span> <span class="n">r13</span>
                              <span class="k">else</span>
                                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                                <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
                              <span class="k">end</span>
                            <span class="k">end</span>
                          <span class="k">end</span>
                        <span class="k">end</span>
                      <span class="k">end</span>
                    <span class="k">end</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:specials</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_ctext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ctext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ctext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_NO_WS_CTL</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x21-\\x27]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x2a-\\x5b]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x5d-\\x7e]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">true</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ctext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_ccontent</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ccontent</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ccontent</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_ctext</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_quoted_pair</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_comment</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:ccontent</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Comment0</span>
      <span class="k">def</span> <span class="nf">ccontent</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Comment1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_comment</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:comment</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:comment</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_ccontent</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
            <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Comment0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r8</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">r8</span>
          <span class="k">else</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
          <span class="k">if</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Comment1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:comment</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_atext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:atext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:atext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_ALPHA</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                  <span class="k">else</span>
                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span>
                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="kp">nil</span>
                    <span class="k">end</span>
                    <span class="k">if</span> <span class="n">r8</span>
                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r8</span>
                    <span class="k">else</span>
                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                      <span class="k">else</span>
                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
                      <span class="k">end</span>
                      <span class="k">if</span> <span class="n">r9</span>
                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
                      <span class="k">else</span>
                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span>
                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="kp">nil</span>
                        <span class="k">end</span>
                        <span class="k">if</span> <span class="n">r10</span>
                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r10</span>
                        <span class="k">else</span>
                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                          <span class="k">else</span>
                            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
                          <span class="k">end</span>
                          <span class="k">if</span> <span class="n">r11</span>
                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
                          <span class="k">else</span>
                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="k">else</span>
                              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="kp">nil</span>
                            <span class="k">end</span>
                            <span class="k">if</span> <span class="n">r12</span>
                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r12</span>
                            <span class="k">else</span>
                              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                <span class="n">r13</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                              <span class="k">else</span>
                                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span>
                                <span class="n">r13</span> <span class="o">=</span> <span class="kp">nil</span>
                              <span class="k">end</span>
                              <span class="k">if</span> <span class="n">r13</span>
                                <span class="n">r0</span> <span class="o">=</span> <span class="n">r13</span>
                              <span class="k">else</span>
                                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                  <span class="n">r14</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                <span class="k">else</span>
                                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)</span>
                                  <span class="n">r14</span> <span class="o">=</span> <span class="kp">nil</span>
                                <span class="k">end</span>
                                <span class="k">if</span> <span class="n">r14</span>
                                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r14</span>
                                <span class="k">else</span>
                                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                    <span class="n">r15</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                  <span class="k">else</span>
                                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;^&quot;</span><span class="p">)</span>
                                    <span class="n">r15</span> <span class="o">=</span> <span class="kp">nil</span>
                                  <span class="k">end</span>
                                  <span class="k">if</span> <span class="n">r15</span>
                                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r15</span>
                                  <span class="k">else</span>
                                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                      <span class="n">r16</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                    <span class="k">else</span>
                                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
                                      <span class="n">r16</span> <span class="o">=</span> <span class="kp">nil</span>
                                    <span class="k">end</span>
                                    <span class="k">if</span> <span class="n">r16</span>
                                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r16</span>
                                    <span class="k">else</span>
                                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;`&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                        <span class="n">r17</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                      <span class="k">else</span>
                                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;`&quot;</span><span class="p">)</span>
                                        <span class="n">r17</span> <span class="o">=</span> <span class="kp">nil</span>
                                      <span class="k">end</span>
                                      <span class="k">if</span> <span class="n">r17</span>
                                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r17</span>
                                      <span class="k">else</span>
                                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                          <span class="n">r18</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                        <span class="k">else</span>
                                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
                                          <span class="n">r18</span> <span class="o">=</span> <span class="kp">nil</span>
                                        <span class="k">end</span>
                                        <span class="k">if</span> <span class="n">r18</span>
                                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r18</span>
                                        <span class="k">else</span>
                                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                            <span class="n">r19</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                          <span class="k">else</span>
                                            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
                                            <span class="n">r19</span> <span class="o">=</span> <span class="kp">nil</span>
                                          <span class="k">end</span>
                                          <span class="k">if</span> <span class="n">r19</span>
                                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r19</span>
                                          <span class="k">else</span>
                                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                              <span class="n">r20</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                            <span class="k">else</span>
                                              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
                                              <span class="n">r20</span> <span class="o">=</span> <span class="kp">nil</span>
                                            <span class="k">end</span>
                                            <span class="k">if</span> <span class="n">r20</span>
                                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r20</span>
                                            <span class="k">else</span>
                                              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                                <span class="n">r21</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                              <span class="k">else</span>
                                                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span>
                                                <span class="n">r21</span> <span class="o">=</span> <span class="kp">nil</span>
                                              <span class="k">end</span>
                                              <span class="k">if</span> <span class="n">r21</span>
                                                <span class="n">r0</span> <span class="o">=</span> <span class="n">r21</span>
                                              <span class="k">else</span>
                                                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                                                <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
                                              <span class="k">end</span>
                                            <span class="k">end</span>
                                          <span class="k">end</span>
                                        <span class="k">end</span>
                                      <span class="k">end</span>
                                    <span class="k">end</span>
                                  <span class="k">end</span>
                                <span class="k">end</span>
                              <span class="k">end</span>
                            <span class="k">end</span>
                          <span class="k">end</span>
                        <span class="k">end</span>
                      <span class="k">end</span>
                    <span class="k">end</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:atext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_mtext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mtext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mtext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">index</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_atext</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mtext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Atom0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_atom</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:atom</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:atom</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_atext</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Atom0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:atom</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DotAtom0</span>
      <span class="k">def</span> <span class="nf">dot_atom_text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_dot_atom</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dot_atom</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dot_atom</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_dot_atom_text</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DotAtom0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dot_atom</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">LocalDotAtom0</span>
      <span class="k">def</span> <span class="nf">local_dot_atom_text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_local_dot_atom</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_dot_atom</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_dot_atom</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_local_dot_atom_text</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">LocalDotAtom0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_dot_atom</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_message_id_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:message_id_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:message_id_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_mtext</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:message_id_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DotAtomText0</span>
      <span class="k">def</span> <span class="nf">domain_text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_dot_atom_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dot_atom_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dot_atom_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_domain_text</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
          <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DotAtomText0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dot_atom_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">LocalDotAtomText0</span>
      <span class="k">def</span> <span class="nf">domain_text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_local_dot_atom_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_dot_atom_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_dot_atom_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_domain_text</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
          <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">LocalDotAtomText0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_dot_atom_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DomainText0</span>
      <span class="k">def</span> <span class="nf">quoted_domain</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DomainText1</span>
      <span class="k">def</span> <span class="nf">DQUOTE1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DQUOTE2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_domain_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_quoted_domain</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
            <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DomainText0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r9</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
          <span class="k">else</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
          <span class="k">if</span> <span class="n">r8</span>
            <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
            <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DomainText1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">s11</span><span class="p">,</span> <span class="n">i11</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r12</span> <span class="o">=</span> <span class="n">_nt_atext</span>
          <span class="k">if</span> <span class="n">r12</span>
            <span class="n">s11</span> <span class="o">&lt;&lt;</span> <span class="n">r12</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s11</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i11</span>
          <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i11</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s11</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r11</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">QuotedDomain0</span>
      <span class="k">def</span> <span class="nf">text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_quoted_domain</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_domain</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_domain</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_qdcontent</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">i2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_text</span>
          <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
          <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">QuotedDomain0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_domain</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_qdcontent</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qdcontent</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qdcontent</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_NO_WS_CTL</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x21]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x23-\\x45]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x47-\\x5b]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">true</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x5d-\\x7e]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">true</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qdcontent</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_phrase</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:phrase</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:phrase</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_obs_phrase</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_word</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:phrase</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_word</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:word</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:word</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_atom</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_quoted_string</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:word</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">PhraseList0</span>
      <span class="k">def</span> <span class="nf">phrase_value</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">PhraseList1</span>
      <span class="k">def</span> <span class="nf">first_phrase</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">other_phrases</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_phrase_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:phrase_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:phrase_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
            <span class="kp">loop</span> <span class="k">do</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
              <span class="k">if</span> <span class="n">r6</span>
                <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
              <span class="k">else</span>
                <span class="k">break</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
              <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
            <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">PhraseList0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">PhraseList1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:phrase_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DomainLiteral0</span>
      <span class="k">def</span> <span class="nf">dcontent</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DomainLiteral1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_domain_literal</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain_literal</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain_literal</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">s4</span><span class="p">,</span> <span class="n">i4</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">i5</span><span class="p">,</span> <span class="n">s5</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
            <span class="k">else</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_dcontent</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s5</span><span class="o">.</span><span class="n">last</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
              <span class="n">r5</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DomainLiteral0</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
            <span class="k">if</span> <span class="n">r10</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">r10</span>
            <span class="k">else</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">if</span> <span class="n">r9</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
                <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r11</span>
              <span class="k">if</span> <span class="n">r11</span>
                <span class="n">r13</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
                <span class="k">if</span> <span class="n">r13</span>
                  <span class="n">r12</span> <span class="o">=</span> <span class="n">r13</span>
                <span class="k">else</span>
                  <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="k">end</span>
                <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r12</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DomainLiteral1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain_literal</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_dcontent</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dcontent</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dcontent</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_dtext</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_quoted_pair</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dcontent</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_dtext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dtext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dtext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_NO_WS_CTL</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x21-\\x5a]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x5e-\\x7e]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:dtext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">AngleAddr0</span>
      <span class="k">def</span> <span class="nf">addr_spec</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_angle_addr</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:angle_addr</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:angle_addr</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r3</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">r3</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_addr_spec</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">r8</span>
              <span class="k">else</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">AngleAddr0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_obs_angle_addr</span>
        <span class="k">if</span> <span class="n">r9</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:angle_addr</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">AddrSpec0</span>
      <span class="k">def</span> <span class="nf">local_part</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">domain</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_addr_spec</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:addr_spec</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:addr_spec</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_local_part</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_domain</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">AddrSpec0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_local_part</span>
        <span class="k">if</span> <span class="n">r5</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:addr_spec</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_local_part</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_part</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_part</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_local_dot_atom</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_quoted_string</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_obs_local_part</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:local_part</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_domain</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_dot_atom</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_domain_literal</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_obs_domain</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:domain</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Group0</span>
      <span class="k">def</span> <span class="nf">group_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">group_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_group</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:group</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:group</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_display_name</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">i4</span> <span class="o">=</span> <span class="n">index</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_mailbox_list_group</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r9</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
              <span class="k">else</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Group0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:group</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MailboxListGroup0</span>
      <span class="k">def</span> <span class="nf">addresses</span>
        <span class="o">[</span><span class="n">first_addr</span><span class="o">]</span> <span class="o">+</span> <span class="n">other_addr</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">o</span><span class="o">|</span> <span class="n">o</span><span class="o">.</span><span class="n">addr_value</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_mailbox_list_group</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox_list_group</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox_list_group</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">r0</span> <span class="o">=</span> <span class="n">_nt_mailbox_list</span>
      <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MailboxListGroup0</span><span class="p">)</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox_list_group</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">QuotedString0</span>
      <span class="k">def</span> <span class="nf">qcontent</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">QuotedString1</span>
      <span class="k">def</span> <span class="nf">DQUOTE1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">quoted_content</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DQUOTE2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_quoted_string</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_string</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_string</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">s4</span><span class="p">,</span> <span class="n">i4</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">i5</span><span class="p">,</span> <span class="n">s5</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
            <span class="k">else</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_qcontent</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s5</span><span class="o">.</span><span class="n">last</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
              <span class="n">r5</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">QuotedString0</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">empty?</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
            <span class="k">if</span> <span class="n">r10</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">r10</span>
            <span class="k">else</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">if</span> <span class="n">r9</span>
              <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r11</span>
              <span class="k">if</span> <span class="n">r11</span>
                <span class="n">r13</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
                <span class="k">if</span> <span class="n">r13</span>
                  <span class="n">r12</span> <span class="o">=</span> <span class="n">r13</span>
                <span class="k">else</span>
                  <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="k">end</span>
                <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r12</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">QuotedString1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_string</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_qcontent</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qcontent</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qcontent</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_qtext</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_quoted_pair</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qcontent</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">QuotedPair0</span>
      <span class="k">def</span> <span class="nf">text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_quoted_pair</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_pair</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_pair</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_text</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">QuotedPair0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_obs_qp</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:quoted_pair</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_qtext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qtext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qtext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_NO_WS_CTL</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x21]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x23-\\x5b]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x5d-\\x7e]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">true</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:qtext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x01-\\x09]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">true</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x0b-\\x0c]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x0e-\\x7e]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_obs_text</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_display_name</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:display_name</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:display_name</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">r0</span> <span class="o">=</span> <span class="n">_nt_phrase</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:display_name</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NameAddr0</span>
      <span class="k">def</span> <span class="nf">display_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">angle_addr</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_name_addr</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_addr</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_addr</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_display_name</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_angle_addr</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NameAddr0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_angle_addr</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_addr</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MailboxList0</span>
      <span class="k">def</span> <span class="nf">addr_value</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MailboxList1</span>
      <span class="k">def</span> <span class="nf">first_addr</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">other_addr</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_mailbox_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
            <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MailboxList0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MailboxList1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_obs_mbox_list</span>
        <span class="k">if</span> <span class="n">r7</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_mailbox</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_name_addr</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_addr_spec</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:mailbox</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Address0</span>
  
      <span class="k">def</span> <span class="nf">dig_comments</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span>
        <span class="n">elements</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">elem</span><span class="o">|</span>
          <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="ss">:comment</span><span class="p">)</span>
            <span class="n">comments</span> <span class="o">&lt;&lt;</span> <span class="n">elem</span><span class="o">.</span><span class="n">comment</span>
          <span class="k">end</span>
          <span class="n">dig_comments</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">elements</span><span class="p">)</span> <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">elements</span>
         <span class="p">}</span>
      <span class="k">end</span>
  
      <span class="k">def</span> <span class="nf">comments</span>
        <span class="n">comments</span> <span class="o">=</span> <span class="o">[]</span>
        <span class="n">dig_comments</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span>
        <span class="n">comments</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Address1</span>

      <span class="k">def</span> <span class="nf">dig_comments</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span>
        <span class="n">elements</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">elem</span><span class="o">|</span>
          <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="ss">:comment</span><span class="p">)</span>
            <span class="n">comments</span> <span class="o">&lt;&lt;</span> <span class="n">elem</span><span class="o">.</span><span class="n">comment</span>
          <span class="k">end</span>
          <span class="n">dig_comments</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">elements</span><span class="p">)</span> <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">elements</span>
         <span class="p">}</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">comments</span>
        <span class="n">comments</span> <span class="o">=</span> <span class="o">[]</span>
        <span class="n">dig_comments</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span>
        <span class="n">comments</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_address</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:address</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:address</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_group</span>
      <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Address0</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
        <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Address1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:address</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">AddressList0</span>
      <span class="k">def</span> <span class="nf">addr_value</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">AddressList1</span>
      <span class="k">def</span> <span class="nf">first_addr</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">other_addr</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_address_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:address_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:address_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_address</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
          <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">s8</span><span class="p">,</span> <span class="n">i8</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
              <span class="kp">loop</span> <span class="k">do</span>
                <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
                <span class="k">if</span> <span class="n">r9</span>
                  <span class="n">s8</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
                <span class="k">else</span>
                  <span class="k">break</span>
                <span class="k">end</span>
              <span class="k">end</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i8</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s8</span><span class="p">)</span>
              <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_address</span>
                <span class="k">if</span> <span class="n">r11</span>
                  <span class="n">r10</span> <span class="o">=</span> <span class="n">r11</span>
                <span class="k">else</span>
                  <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="k">end</span>
                <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
            <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">AddressList0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">AddressList1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:address_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DateTime0</span>
      <span class="k">def</span> <span class="nf">day_of_week</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DateTime1</span>
      <span class="k">def</span> <span class="nf">date</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">FWS</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">time</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_date_time</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:date_time</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:date_time</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">i2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_day_of_week</span>
      <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">if</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DateTime0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_date</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">if</span> <span class="n">r5</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_time</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r9</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
              <span class="k">else</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DateTime1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:date_time</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">DayOfWeek0</span>
      <span class="k">def</span> <span class="nf">day_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_day_of_week</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day_of_week</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day_of_week</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
      <span class="k">if</span> <span class="n">r3</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">r3</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_day_name</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">DayOfWeek0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_obs_day_of_week</span>
        <span class="k">if</span> <span class="n">r5</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day_of_week</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_day_name</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day_name</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day_name</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Mon&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Mon&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Tue&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Tue&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Wed&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Wed&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Thu&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Thu&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Fri&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Fri&quot;</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Sat&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Sat&quot;</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Sun&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                  <span class="k">else</span>
                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Sun&quot;</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day_name</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Date0</span>
      <span class="k">def</span> <span class="nf">day</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">month</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">year</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_date</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:date</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:date</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_day</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_month</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_year</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Date0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:date</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Year0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT3</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT4</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_year</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:year</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:year</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
            <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Year0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_obs_year</span>
        <span class="k">if</span> <span class="n">r6</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:year</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Month0</span>
      <span class="k">def</span> <span class="nf">FWS1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">month_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">FWS2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_month</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:month</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:month</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_month_name</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Month0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_obs_month</span>
        <span class="k">if</span> <span class="n">r5</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:month</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_month_name</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:month_name</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:month_name</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Jan&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Jan&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Feb&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Feb&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Mar&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Mar&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Apr&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Apr&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;May&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;May&quot;</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Jun&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Jun&quot;</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Jul&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                  <span class="k">else</span>
                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Jul&quot;</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Aug&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                    <span class="k">else</span>
                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Aug&quot;</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="kp">nil</span>
                    <span class="k">end</span>
                    <span class="k">if</span> <span class="n">r8</span>
                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r8</span>
                    <span class="k">else</span>
                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Sep&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                      <span class="k">else</span>
                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Sep&quot;</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
                      <span class="k">end</span>
                      <span class="k">if</span> <span class="n">r9</span>
                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
                      <span class="k">else</span>
                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Oct&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                        <span class="k">else</span>
                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Oct&quot;</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="kp">nil</span>
                        <span class="k">end</span>
                        <span class="k">if</span> <span class="n">r10</span>
                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r10</span>
                        <span class="k">else</span>
                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Nov&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                          <span class="k">else</span>
                            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Nov&quot;</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
                          <span class="k">end</span>
                          <span class="k">if</span> <span class="n">r11</span>
                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
                          <span class="k">else</span>
                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Dec&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                            <span class="k">else</span>
                              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Dec&quot;</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="kp">nil</span>
                            <span class="k">end</span>
                            <span class="k">if</span> <span class="n">r12</span>
                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r12</span>
                            <span class="k">else</span>
                              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                              <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
                            <span class="k">end</span>
                          <span class="k">end</span>
                        <span class="k">end</span>
                      <span class="k">end</span>
                    <span class="k">end</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:month_name</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Day0</span>
      <span class="k">def</span> <span class="nf">DIGIT</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_day</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
      <span class="k">if</span> <span class="n">r3</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">r3</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Day0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_obs_day</span>
        <span class="k">if</span> <span class="n">r7</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:day</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Time0</span>
      <span class="k">def</span> <span class="nf">time_of_day</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">FWS</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">zone</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_time</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:time</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:time</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_time_of_day</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_zone</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Time0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:time</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">TimeOfDay0</span>
      <span class="k">def</span> <span class="nf">second</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">TimeOfDay1</span>
      <span class="k">def</span> <span class="nf">hour</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">minute</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_time_of_day</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:time_of_day</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:time_of_day</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_hour</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_minute</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">i5</span><span class="p">,</span> <span class="n">s5</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_second</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s5</span><span class="o">.</span><span class="n">last</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
              <span class="n">r5</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">TimeOfDay0</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
            <span class="k">else</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">TimeOfDay1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:time_of_day</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Hour0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_hour</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:hour</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:hour</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Hour0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_obs_hour</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:hour</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Minute0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_minute</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:minute</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:minute</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Minute0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_obs_minute</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:minute</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Second0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_second</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:second</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:second</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Second0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_obs_second</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:second</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Zone0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT3</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT4</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_zone</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:zone</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:zone</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">i2</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r3</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">r3</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">if</span> <span class="n">r5</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
            <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
              <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Zone0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_obs_zone</span>
        <span class="k">if</span> <span class="n">r9</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:zone</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Return0</span>
      <span class="k">def</span> <span class="nf">path</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_return</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:return</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:return</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_path</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Return0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:return</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Path0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_path</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:path</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:path</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r3</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">r3</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">i5</span> <span class="o">=</span> <span class="n">index</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r7</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
          <span class="k">else</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_addr_spec</span>
            <span class="k">if</span> <span class="n">r8</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">r8</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">if</span> <span class="n">r9</span>
              <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r11</span>
                <span class="n">r10</span> <span class="o">=</span> <span class="n">r11</span>
              <span class="k">else</span>
                <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Path0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r12</span> <span class="o">=</span> <span class="n">_nt_obs_path</span>
        <span class="k">if</span> <span class="n">r12</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r12</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:path</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">Received0</span>
      <span class="k">def</span> <span class="nf">name_val_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">date_time</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_received</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:received</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:received</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_name_val_list</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_date_time</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">Received0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:received</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NameValList0</span>
      <span class="k">def</span> <span class="nf">CFWS</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">name_val_pair</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NameValList1</span>
      <span class="k">def</span> <span class="nf">name_val_pair</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NameValList2</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_name_val_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_val_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_val_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_name_val_pair</span>
        <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">i6</span><span class="p">,</span> <span class="n">s6</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
            <span class="n">s6</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_name_val_pair</span>
              <span class="n">s6</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s6</span><span class="o">.</span><span class="n">last</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i6</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s6</span><span class="p">)</span>
              <span class="n">r6</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NameValList0</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i6</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
          <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NameValList1</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NameValList2</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_val_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NameValPair0</span>
      <span class="k">def</span> <span class="nf">item_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CFWS</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">item_value</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_name_val_pair</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_val_pair</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_val_pair</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_item_name</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_item_value</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NameValPair0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:name_val_pair</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ItemName0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ItemName1</span>
      <span class="k">def</span> <span class="nf">ALPHA</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_item_name</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:item_name</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:item_name</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_ALPHA</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">i6</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_ALPHA</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
            <span class="k">else</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">r8</span>
              <span class="k">else</span>
                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i6</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
            <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ItemName0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ItemName1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:item_name</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_item_value</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:item_value</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:item_value</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">s1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_angle_addr</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_addr_spec</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
        <span class="k">else</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_atom</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_domain</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
            <span class="k">else</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
              <span class="k">if</span> <span class="n">r6</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
              <span class="k">else</span>
                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:item_value</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MessageIds0</span>
      <span class="k">def</span> <span class="nf">CFWS</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">msg_id_value</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MessageIds1</span>
      <span class="k">def</span> <span class="nf">first_msg_id</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">other_msg_ids</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_message_ids</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:message_ids</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:message_ids</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
            <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MessageIds0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MessageIds1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:message_ids</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MsgId0</span>
      <span class="k">def</span> <span class="nf">msg_id_value</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_msg_id</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_msg_id_value</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
              <span class="k">else</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MsgId0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MsgIdValue0</span>
      <span class="k">def</span> <span class="nf">id_left</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">id_right</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_msg_id_value</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_value</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_value</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_id_left</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_id_right</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MsgIdValue0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_value</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_id_left</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:id_left</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:id_left</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_message_id_text</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_no_fold_quote</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_obs_id_left</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:id_left</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_id_right</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:id_right</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:id_right</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_msg_id_dot_atom_text</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_no_fold_literal</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_obs_id_right</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:id_right</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MsgIdDotAtomText0</span>
      <span class="k">def</span> <span class="nf">msg_id_domain_text</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_msg_id_dot_atom_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_dot_atom_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_dot_atom_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_msg_id_domain_text</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
          <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MsgIdDotAtomText0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_dot_atom_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MsgIdDomainText0</span>
      <span class="k">def</span> <span class="nf">quoted_domain</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">MsgIdDomainText1</span>
      <span class="k">def</span> <span class="nf">DQUOTE1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DQUOTE2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_msg_id_domain_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_domain_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_domain_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">i1</span><span class="p">,</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
      <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_quoted_domain</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
            <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MsgIdDomainText0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_FWS</span>
          <span class="k">if</span> <span class="n">r9</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
          <span class="k">else</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
          <span class="k">if</span> <span class="n">r8</span>
            <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
            <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        <span class="n">r1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">MsgIdDomainText1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">s11</span><span class="p">,</span> <span class="n">i11</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r12</span> <span class="o">=</span> <span class="n">_nt_msg_id_atext</span>
          <span class="k">if</span> <span class="n">r12</span>
            <span class="n">s11</span> <span class="o">&lt;&lt;</span> <span class="n">r12</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s11</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i11</span>
          <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i11</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s11</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r11</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_domain_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_msg_id_atext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_atext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_atext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_ALPHA</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                  <span class="k">else</span>
                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span>
                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="kp">nil</span>
                    <span class="k">end</span>
                    <span class="k">if</span> <span class="n">r8</span>
                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r8</span>
                    <span class="k">else</span>
                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                      <span class="k">else</span>
                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
                      <span class="k">end</span>
                      <span class="k">if</span> <span class="n">r9</span>
                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
                      <span class="k">else</span>
                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span>
                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="kp">nil</span>
                        <span class="k">end</span>
                        <span class="k">if</span> <span class="n">r10</span>
                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r10</span>
                        <span class="k">else</span>
                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                          <span class="k">else</span>
                            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
                          <span class="k">end</span>
                          <span class="k">if</span> <span class="n">r11</span>
                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
                          <span class="k">else</span>
                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="k">else</span>
                              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="kp">nil</span>
                            <span class="k">end</span>
                            <span class="k">if</span> <span class="n">r12</span>
                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r12</span>
                            <span class="k">else</span>
                              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                <span class="n">r13</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                              <span class="k">else</span>
                                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span>
                                <span class="n">r13</span> <span class="o">=</span> <span class="kp">nil</span>
                              <span class="k">end</span>
                              <span class="k">if</span> <span class="n">r13</span>
                                <span class="n">r0</span> <span class="o">=</span> <span class="n">r13</span>
                              <span class="k">else</span>
                                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                  <span class="n">r14</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                <span class="k">else</span>
                                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)</span>
                                  <span class="n">r14</span> <span class="o">=</span> <span class="kp">nil</span>
                                <span class="k">end</span>
                                <span class="k">if</span> <span class="n">r14</span>
                                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r14</span>
                                <span class="k">else</span>
                                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                    <span class="n">r15</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                  <span class="k">else</span>
                                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;^&quot;</span><span class="p">)</span>
                                    <span class="n">r15</span> <span class="o">=</span> <span class="kp">nil</span>
                                  <span class="k">end</span>
                                  <span class="k">if</span> <span class="n">r15</span>
                                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r15</span>
                                  <span class="k">else</span>
                                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                      <span class="n">r16</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                    <span class="k">else</span>
                                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
                                      <span class="n">r16</span> <span class="o">=</span> <span class="kp">nil</span>
                                    <span class="k">end</span>
                                    <span class="k">if</span> <span class="n">r16</span>
                                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r16</span>
                                    <span class="k">else</span>
                                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;`&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                        <span class="n">r17</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                      <span class="k">else</span>
                                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;`&quot;</span><span class="p">)</span>
                                        <span class="n">r17</span> <span class="o">=</span> <span class="kp">nil</span>
                                      <span class="k">end</span>
                                      <span class="k">if</span> <span class="n">r17</span>
                                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r17</span>
                                      <span class="k">else</span>
                                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                          <span class="n">r18</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                        <span class="k">else</span>
                                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
                                          <span class="n">r18</span> <span class="o">=</span> <span class="kp">nil</span>
                                        <span class="k">end</span>
                                        <span class="k">if</span> <span class="n">r18</span>
                                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r18</span>
                                        <span class="k">else</span>
                                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                            <span class="n">r19</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                          <span class="k">else</span>
                                            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
                                            <span class="n">r19</span> <span class="o">=</span> <span class="kp">nil</span>
                                          <span class="k">end</span>
                                          <span class="k">if</span> <span class="n">r19</span>
                                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r19</span>
                                          <span class="k">else</span>
                                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                              <span class="n">r20</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                            <span class="k">else</span>
                                              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
                                              <span class="n">r20</span> <span class="o">=</span> <span class="kp">nil</span>
                                            <span class="k">end</span>
                                            <span class="k">if</span> <span class="n">r20</span>
                                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r20</span>
                                            <span class="k">else</span>
                                              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                                <span class="n">r21</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                              <span class="k">else</span>
                                                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span>
                                                <span class="n">r21</span> <span class="o">=</span> <span class="kp">nil</span>
                                              <span class="k">end</span>
                                              <span class="k">if</span> <span class="n">r21</span>
                                                <span class="n">r0</span> <span class="o">=</span> <span class="n">r21</span>
                                              <span class="k">else</span>
                                                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                                  <span class="n">r22</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                                                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                                <span class="k">else</span>
                                                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
                                                  <span class="n">r22</span> <span class="o">=</span> <span class="kp">nil</span>
                                                <span class="k">end</span>
                                                <span class="k">if</span> <span class="n">r22</span>
                                                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r22</span>
                                                <span class="k">else</span>
                                                  <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                                                  <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
                                                <span class="k">end</span>
                                              <span class="k">end</span>
                                            <span class="k">end</span>
                                          <span class="k">end</span>
                                        <span class="k">end</span>
                                      <span class="k">end</span>
                                    <span class="k">end</span>
                                  <span class="k">end</span>
                                <span class="k">end</span>
                              <span class="k">end</span>
                            <span class="k">end</span>
                          <span class="k">end</span>
                        <span class="k">end</span>
                      <span class="k">end</span>
                    <span class="k">end</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:msg_id_atext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NoFoldQuote0</span>
      <span class="k">def</span> <span class="nf">DQUOTE1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DQUOTE2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_no_fold_quote</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:no_fold_quote</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:no_fold_quote</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span> <span class="o">=</span> <span class="n">index</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_qtext</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_quoted_pair</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r3</span> <span class="o">=</span> <span class="n">r5</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
              <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_DQUOTE</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NoFoldQuote0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:no_fold_quote</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">NoFoldLiteral0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_no_fold_literal</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:no_fold_literal</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:no_fold_literal</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span> <span class="o">=</span> <span class="n">index</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_dtext</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_quoted_pair</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r3</span> <span class="o">=</span> <span class="n">r5</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
              <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">NoFoldLiteral0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:no_fold_literal</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="k">class</span> <span class="nc">RFC2822Parser</span> <span class="o">&lt;</span> <span class="no">Treetop</span><span class="o">::</span><span class="no">Runtime</span><span class="o">::</span><span class="no">CompiledParser</span>
    <span class="kp">include</span> <span class="no">RFC2822</span>
  <span class="k">end</span>

<span class="k">end</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/mail",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
