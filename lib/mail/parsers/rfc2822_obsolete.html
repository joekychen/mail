<!DOCTYPE html>
<html><head><title>joekychen/mail » lib › mail › parsers › rfc2822_obsolete.rb
| Autogenerated from a Treetop grammar. Edits may be lost.
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>rfc2822_obsolete.rb</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>Autogenerated from a Treetop grammar. Edits may be lost.</p></td><td class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">Mail</span>
  <span class="k">module</span> <span class="nn">RFC2822Obsolete</span>
    <span class="kp">include</span> <span class="no">Treetop</span><span class="o">::</span><span class="no">Runtime</span>

    <span class="k">def</span> <span class="nf">root</span>
      <span class="vi">@root</span> <span class="o">||=</span> <span class="ss">:obs_qp</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsQp0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_qp</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_qp</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_qp</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x00-\\x7F]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsQp0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_qp</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsText0</span>
      <span class="k">def</span> <span class="nf">obs_char</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsText1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_text</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_text</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_text</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">s1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_LF</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_CR</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">i6</span><span class="p">,</span> <span class="n">s6</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_obs_char</span>
            <span class="n">s6</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">s8</span><span class="p">,</span> <span class="n">i8</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
              <span class="kp">loop</span> <span class="k">do</span>
                <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_LF</span>
                <span class="k">if</span> <span class="n">r9</span>
                  <span class="n">s8</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
                <span class="k">else</span>
                  <span class="k">break</span>
                <span class="k">end</span>
              <span class="k">end</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i8</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s8</span><span class="p">)</span>
              <span class="n">s6</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">s10</span><span class="p">,</span> <span class="n">i10</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
                <span class="kp">loop</span> <span class="k">do</span>
                  <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_CR</span>
                  <span class="k">if</span> <span class="n">r11</span>
                    <span class="n">s10</span> <span class="o">&lt;&lt;</span> <span class="n">r11</span>
                  <span class="k">else</span>
                    <span class="k">break</span>
                  <span class="k">end</span>
                <span class="k">end</span>
                <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i10</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s10</span><span class="p">)</span>
                <span class="n">s6</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s6</span><span class="o">.</span><span class="n">last</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i6</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s6</span><span class="p">)</span>
              <span class="n">r6</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsText0</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i6</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsText1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_text</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_char</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_char</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_char</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x00-\\x09]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">true</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x0B-\\x0C]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x0E-\\x7F]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">true</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_char</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_utext</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_utext</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_utext</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">r0</span> <span class="o">=</span> <span class="n">_nt_obs_text</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_utext</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_phrase</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_phrase</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_phrase</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">index</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_word</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r1</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
              <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_phrase</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsPhraseList0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsPhraseList1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_phrase_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_phrase_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_phrase_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="n">i2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
            <span class="k">if</span> <span class="n">r8</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">r8</span>
            <span class="k">else</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
              <span class="k">if</span> <span class="n">r9</span>
                <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
                <span class="k">if</span> <span class="n">r11</span>
                  <span class="n">r10</span> <span class="o">=</span> <span class="n">r11</span>
                <span class="k">else</span>
                  <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="k">end</span>
                <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
            <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsPhraseList0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">empty?</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r13</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
          <span class="k">if</span> <span class="n">r13</span>
            <span class="n">r12</span> <span class="o">=</span> <span class="n">r13</span>
          <span class="k">else</span>
            <span class="n">r12</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r12</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
          <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsPhraseList1</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_phrase_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsFWS0</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsFWS1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_FWS</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_FWS</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_FWS</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">s1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
          <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">s6</span><span class="p">,</span> <span class="n">i6</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
            <span class="kp">loop</span> <span class="k">do</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">s6</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
              <span class="k">else</span>
                <span class="k">break</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s6</span><span class="o">.</span><span class="n">empty?</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i6</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">else</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i6</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s6</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
            <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsFWS0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsFWS1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_FWS</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDayOfWeek0</span>
      <span class="k">def</span> <span class="nf">day_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_day_of_week</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_day_of_week</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_day_of_week</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_day_name</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDayOfWeek0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_day_of_week</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsYear0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsYear1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_year</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_year</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_year</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
          <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsYear0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r7</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
          <span class="k">else</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsYear1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_year</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsMonth0</span>
      <span class="k">def</span> <span class="nf">CFWS1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">month_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CFWS2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_month</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_month</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_month</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_month_name</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsMonth0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_month</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDay0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDay1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_day</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_day</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_day</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">i3</span> <span class="o">=</span> <span class="n">index</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="n">i5</span><span class="p">,</span> <span class="n">s5</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
            <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s5</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
            <span class="n">r5</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDay0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r9</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
          <span class="k">else</span>
            <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDay1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_day</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsHour0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsHour1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_hour</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_hour</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_hour</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
          <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsHour0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r7</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
          <span class="k">else</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsHour1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_hour</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsMinute0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsMinute1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_minute</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_minute</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_minute</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
          <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsMinute0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r7</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
          <span class="k">else</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsMinute1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_minute</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsSecond0</span>
      <span class="k">def</span> <span class="nf">DIGIT1</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">DIGIT2</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsSecond1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_second</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_second</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_second</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
        <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_DIGIT</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
          <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsSecond0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r7</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
          <span class="k">else</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsSecond1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_second</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_zone</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_zone</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_zone</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;UT&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">2</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;UT&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">r1</span>
      <span class="k">else</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;GMT&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;GMT&quot;</span><span class="p">)</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r0</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;EST&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;EST&quot;</span><span class="p">)</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r0</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;EDT&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;EDT&quot;</span><span class="p">)</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r0</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;CST&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;CST&quot;</span><span class="p">)</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r0</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;CDT&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;CDT&quot;</span><span class="p">)</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;MST&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                    <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                  <span class="k">else</span>
                    <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;MST&quot;</span><span class="p">)</span>
                    <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
                  <span class="k">end</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r0</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;MDT&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                      <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                    <span class="k">else</span>
                      <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;MDT&quot;</span><span class="p">)</span>
                      <span class="n">r8</span> <span class="o">=</span> <span class="kp">nil</span>
                    <span class="k">end</span>
                    <span class="k">if</span> <span class="n">r8</span>
                      <span class="n">r0</span> <span class="o">=</span> <span class="n">r8</span>
                    <span class="k">else</span>
                      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;PST&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                      <span class="k">else</span>
                        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;PST&quot;</span><span class="p">)</span>
                        <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
                      <span class="k">end</span>
                      <span class="k">if</span> <span class="n">r9</span>
                        <span class="n">r0</span> <span class="o">=</span> <span class="n">r9</span>
                      <span class="k">else</span>
                        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;PDT&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
                          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
                        <span class="k">else</span>
                          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;PDT&quot;</span><span class="p">)</span>
                          <span class="n">r10</span> <span class="o">=</span> <span class="kp">nil</span>
                        <span class="k">end</span>
                        <span class="k">if</span> <span class="n">r10</span>
                          <span class="n">r0</span> <span class="o">=</span> <span class="n">r10</span>
                        <span class="k">else</span>
                          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x41-\\x49]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="kp">true</span>
                            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                          <span class="k">else</span>
                            <span class="n">r11</span> <span class="o">=</span> <span class="kp">nil</span>
                          <span class="k">end</span>
                          <span class="k">if</span> <span class="n">r11</span>
                            <span class="n">r0</span> <span class="o">=</span> <span class="n">r11</span>
                          <span class="k">else</span>
                            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x4B-\\x5A]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="kp">true</span>
                              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="k">else</span>
                              <span class="n">r12</span> <span class="o">=</span> <span class="kp">nil</span>
                            <span class="k">end</span>
                            <span class="k">if</span> <span class="n">r12</span>
                              <span class="n">r0</span> <span class="o">=</span> <span class="n">r12</span>
                            <span class="k">else</span>
                              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x61-\\x69]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                <span class="n">r13</span> <span class="o">=</span> <span class="kp">true</span>
                                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                              <span class="k">else</span>
                                <span class="n">r13</span> <span class="o">=</span> <span class="kp">nil</span>
                              <span class="k">end</span>
                              <span class="k">if</span> <span class="n">r13</span>
                                <span class="n">r0</span> <span class="o">=</span> <span class="n">r13</span>
                              <span class="k">else</span>
                                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s1">&#39;\G[\\x6B-\\x7A]&#39;</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                                  <span class="n">r14</span> <span class="o">=</span> <span class="kp">true</span>
                                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                                <span class="k">else</span>
                                  <span class="n">r14</span> <span class="o">=</span> <span class="kp">nil</span>
                                <span class="k">end</span>
                                <span class="k">if</span> <span class="n">r14</span>
                                  <span class="n">r0</span> <span class="o">=</span> <span class="n">r14</span>
                                <span class="k">else</span>
                                  <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
                                  <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
                                <span class="k">end</span>
                              <span class="k">end</span>
                            <span class="k">end</span>
                          <span class="k">end</span>
                        <span class="k">end</span>
                      <span class="k">end</span>
                    <span class="k">end</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_zone</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsAngleAddr0</span>
      <span class="k">def</span> <span class="nf">addr_spec</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_angle_addr</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_angle_addr</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_angle_addr</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
          <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span>
          <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_obs_route</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">r5</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_addr_spec</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
                <span class="k">if</span> <span class="n">r9</span>
                  <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
                <span class="k">else</span>
                  <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="k">end</span>
                <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsAngleAddr0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_angle_addr</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsRoute0</span>
      <span class="k">def</span> <span class="nf">obs_domain_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_route</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_route</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_route</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
      <span class="k">if</span> <span class="n">r2</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_obs_domain_list</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsRoute0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_route</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDomainList0</span>
      <span class="k">def</span> <span class="nf">domain</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDomainList1</span>
      <span class="k">def</span> <span class="nf">domain</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_domain_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_domain_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_domain_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_domain</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s3</span><span class="p">,</span> <span class="n">i3</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
          <span class="kp">loop</span> <span class="k">do</span>
            <span class="n">i4</span><span class="p">,</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
            <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
            <span class="kp">loop</span> <span class="k">do</span>
              <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="k">else</span>
                <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r6</span>
                <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
              <span class="k">else</span>
                <span class="k">break</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
            <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">r8</span>
              <span class="k">else</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="n">r9</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                  <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span>
                  <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
                  <span class="n">r9</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
                <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
                <span class="k">if</span> <span class="n">r9</span>
                  <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_domain</span>
                  <span class="n">s4</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">s4</span><span class="o">.</span><span class="n">last</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i4</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s4</span><span class="p">)</span>
              <span class="n">r4</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDomainList0</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="vi">@index</span> <span class="o">=</span> <span class="n">i4</span>
              <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="k">break</span>
            <span class="k">end</span>
          <span class="k">end</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDomainList1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_domain_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsLocalPart0</span>
      <span class="k">def</span> <span class="nf">word</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsLocalPart1</span>
      <span class="k">def</span> <span class="nf">word</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_local_part</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_local_part</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_local_part</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_word</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_word</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
            <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsLocalPart0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsLocalPart1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_local_part</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDomain0</span>
      <span class="k">def</span> <span class="nf">atom</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsDomain1</span>
      <span class="k">def</span> <span class="nf">atom</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_domain</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_domain</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_domain</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_atom</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">i3</span><span class="p">,</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_atom</span>
            <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">s3</span><span class="o">.</span><span class="n">last</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i3</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
            <span class="n">r3</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDomain0</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="vi">@index</span> <span class="o">=</span> <span class="n">i3</span>
            <span class="n">r3</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsDomain1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_domain</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsMboxList0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsMboxList1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_mbox_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_mbox_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_mbox_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">s1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r9</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
              <span class="k">else</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
          <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsMboxList0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
        <span class="k">if</span> <span class="n">r11</span>
          <span class="n">r10</span> <span class="o">=</span> <span class="n">r11</span>
        <span class="k">else</span>
          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsMboxList1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_mbox_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsAddrList0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsAddrList1</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_addr_list</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_addr_list</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_addr_list</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">s1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
        <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_address</span>
        <span class="k">if</span> <span class="n">r4</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">r4</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
        <span class="k">if</span> <span class="n">r3</span>
          <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
          <span class="k">if</span> <span class="n">r6</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
          <span class="k">else</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
          <span class="k">end</span>
          <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
          <span class="k">if</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
              <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span>
              <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="kp">nil</span>
            <span class="k">end</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r7</span>
            <span class="k">if</span> <span class="n">r7</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r9</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">r9</span>
              <span class="k">else</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r8</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">s2</span><span class="o">.</span><span class="n">last</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
          <span class="n">r2</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsAddrList0</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">i2</span>
          <span class="n">r2</span> <span class="o">=</span> <span class="kp">nil</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">else</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i1</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_address</span>
        <span class="k">if</span> <span class="n">r11</span>
          <span class="n">r10</span> <span class="o">=</span> <span class="n">r11</span>
        <span class="k">else</span>
          <span class="n">r10</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">end</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r10</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsAddrList1</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_addr_list</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_fields</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_fields</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_fields</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">s0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
      <span class="kp">loop</span> <span class="k">do</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">index</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">_nt_obs_return</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="n">r1</span> <span class="o">=</span> <span class="n">r2</span>
        <span class="k">else</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_obs_received</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">_nt_obs_orig_date</span>
            <span class="k">if</span> <span class="n">r4</span>
              <span class="n">r1</span> <span class="o">=</span> <span class="n">r4</span>
            <span class="k">else</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_obs_from</span>
              <span class="k">if</span> <span class="n">r5</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r5</span>
              <span class="k">else</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_obs_sender</span>
                <span class="k">if</span> <span class="n">r6</span>
                  <span class="n">r1</span> <span class="o">=</span> <span class="n">r6</span>
                <span class="k">else</span>
                  <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_obs_reply_to</span>
                  <span class="k">if</span> <span class="n">r7</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r7</span>
                  <span class="k">else</span>
                    <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_obs_to</span>
                    <span class="k">if</span> <span class="n">r8</span>
                      <span class="n">r1</span> <span class="o">=</span> <span class="n">r8</span>
                    <span class="k">else</span>
                      <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_obs_cc</span>
                      <span class="k">if</span> <span class="n">r9</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r9</span>
                      <span class="k">else</span>
                        <span class="n">r10</span> <span class="o">=</span> <span class="n">_nt_obs_bcc</span>
                        <span class="k">if</span> <span class="n">r10</span>
                          <span class="n">r1</span> <span class="o">=</span> <span class="n">r10</span>
                        <span class="k">else</span>
                          <span class="n">r11</span> <span class="o">=</span> <span class="n">_nt_obs_message_id</span>
                          <span class="k">if</span> <span class="n">r11</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">r11</span>
                          <span class="k">else</span>
                            <span class="n">r12</span> <span class="o">=</span> <span class="n">_nt_obs_in_reply_to</span>
                            <span class="k">if</span> <span class="n">r12</span>
                              <span class="n">r1</span> <span class="o">=</span> <span class="n">r12</span>
                            <span class="k">else</span>
                              <span class="n">r13</span> <span class="o">=</span> <span class="n">_nt_obs_references</span>
                              <span class="k">if</span> <span class="n">r13</span>
                                <span class="n">r1</span> <span class="o">=</span> <span class="n">r13</span>
                              <span class="k">else</span>
                                <span class="n">r14</span> <span class="o">=</span> <span class="n">_nt_obs_subject</span>
                                <span class="k">if</span> <span class="n">r14</span>
                                  <span class="n">r1</span> <span class="o">=</span> <span class="n">r14</span>
                                <span class="k">else</span>
                                  <span class="n">r15</span> <span class="o">=</span> <span class="n">_nt_obs_comments</span>
                                  <span class="k">if</span> <span class="n">r15</span>
                                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r15</span>
                                  <span class="k">else</span>
                                    <span class="n">r16</span> <span class="o">=</span> <span class="n">_nt_obs_keywords</span>
                                    <span class="k">if</span> <span class="n">r16</span>
                                      <span class="n">r1</span> <span class="o">=</span> <span class="n">r16</span>
                                    <span class="k">else</span>
                                      <span class="n">r17</span> <span class="o">=</span> <span class="n">_nt_obs_resent_date</span>
                                      <span class="k">if</span> <span class="n">r17</span>
                                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r17</span>
                                      <span class="k">else</span>
                                        <span class="n">r18</span> <span class="o">=</span> <span class="n">_nt_obs_resent_from</span>
                                        <span class="k">if</span> <span class="n">r18</span>
                                          <span class="n">r1</span> <span class="o">=</span> <span class="n">r18</span>
                                        <span class="k">else</span>
                                          <span class="n">r19</span> <span class="o">=</span> <span class="n">_nt_obs_resent_send</span>
                                          <span class="k">if</span> <span class="n">r19</span>
                                            <span class="n">r1</span> <span class="o">=</span> <span class="n">r19</span>
                                          <span class="k">else</span>
                                            <span class="n">r20</span> <span class="o">=</span> <span class="n">_nt_obs_resent_rply</span>
                                            <span class="k">if</span> <span class="n">r20</span>
                                              <span class="n">r1</span> <span class="o">=</span> <span class="n">r20</span>
                                            <span class="k">else</span>
                                              <span class="n">r21</span> <span class="o">=</span> <span class="n">_nt_obs_resent_to</span>
                                              <span class="k">if</span> <span class="n">r21</span>
                                                <span class="n">r1</span> <span class="o">=</span> <span class="n">r21</span>
                                              <span class="k">else</span>
                                                <span class="n">r22</span> <span class="o">=</span> <span class="n">_nt_obs_resent_cc</span>
                                                <span class="k">if</span> <span class="n">r22</span>
                                                  <span class="n">r1</span> <span class="o">=</span> <span class="n">r22</span>
                                                <span class="k">else</span>
                                                  <span class="n">r23</span> <span class="o">=</span> <span class="n">_nt_obs_resent_bcc</span>
                                                  <span class="k">if</span> <span class="n">r23</span>
                                                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r23</span>
                                                  <span class="k">else</span>
                                                    <span class="n">r24</span> <span class="o">=</span> <span class="n">_nt_obs_resent_mid</span>
                                                    <span class="k">if</span> <span class="n">r24</span>
                                                      <span class="n">r1</span> <span class="o">=</span> <span class="n">r24</span>
                                                    <span class="k">else</span>
                                                      <span class="n">r25</span> <span class="o">=</span> <span class="n">_nt_obs_optional</span>
                                                      <span class="k">if</span> <span class="n">r25</span>
                                                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r25</span>
                                                      <span class="k">else</span>
                                                        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i1</span>
                                                        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
                                                      <span class="k">end</span>
                                                    <span class="k">end</span>
                                                  <span class="k">end</span>
                                                <span class="k">end</span>
                                              <span class="k">end</span>
                                            <span class="k">end</span>
                                          <span class="k">end</span>
                                        <span class="k">end</span>
                                      <span class="k">end</span>
                                    <span class="k">end</span>
                                  <span class="k">end</span>
                                <span class="k">end</span>
                              <span class="k">end</span>
                            <span class="k">end</span>
                          <span class="k">end</span>
                        <span class="k">end</span>
                      <span class="k">end</span>
                    <span class="k">end</span>
                  <span class="k">end</span>
                <span class="k">end</span>
              <span class="k">end</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="k">if</span> <span class="n">r1</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
        <span class="k">else</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_fields</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsOrigDate0</span>
      <span class="k">def</span> <span class="nf">date_time</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_orig_date</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_orig_date</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_orig_date</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">4</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">4</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Date&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_date_time</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsOrigDate0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_orig_date</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsFrom0</span>
      <span class="k">def</span> <span class="nf">mailbox_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_from</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_from</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_from</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;From&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">4</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">4</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;From&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_mailbox_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsFrom0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_from</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsSender0</span>
      <span class="k">def</span> <span class="nf">mailbox</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_sender</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_sender</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_sender</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Sender&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">6</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">6</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Sender&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsSender0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_sender</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsReplyTo0</span>
      <span class="k">def</span> <span class="nf">mailbox_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_reply_to</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_reply_to</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_reply_to</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Reply-To&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">8</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">8</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Reply-To&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_mailbox_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsReplyTo0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_reply_to</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsTo0</span>
      <span class="k">def</span> <span class="nf">address_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_to</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_to</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_to</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;To&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">2</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;To&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsTo0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_to</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsCc0</span>
      <span class="k">def</span> <span class="nf">address_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_cc</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_cc</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_cc</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Cc&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">2</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Cc&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsCc0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_cc</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsBcc0</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_bcc</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_bcc</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_bcc</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Bcc&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">3</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Bcc&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">i5</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">r8</span>
              <span class="k">else</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">r7</span>
              <span class="k">else</span>
                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsBcc0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_bcc</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsMessageId0</span>
      <span class="k">def</span> <span class="nf">msg_id</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_message_id</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_message_id</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_message_id</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Message-ID&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">10</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Message-ID&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsMessageId0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_message_id</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsInReplyTo0</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_in_reply_to</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_in_reply_to</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_in_reply_to</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;In-Reply-To&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">11</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">11</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;In-Reply-To&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
            <span class="kp">loop</span> <span class="k">do</span>
              <span class="n">i6</span> <span class="o">=</span> <span class="n">index</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
              <span class="k">else</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
                <span class="k">if</span> <span class="n">r8</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">r8</span>
                <span class="k">else</span>
                  <span class="vi">@index</span> <span class="o">=</span> <span class="n">i6</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r6</span>
                <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
              <span class="k">else</span>
                <span class="k">break</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsInReplyTo0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_in_reply_to</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsReferences0</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_references</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_references</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_references</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;References&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">10</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;References&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">s5</span><span class="p">,</span> <span class="n">i5</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
            <span class="kp">loop</span> <span class="k">do</span>
              <span class="n">i6</span> <span class="o">=</span> <span class="n">index</span>
              <span class="n">r7</span> <span class="o">=</span> <span class="n">_nt_phrase</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">r6</span> <span class="o">=</span> <span class="n">r7</span>
              <span class="k">else</span>
                <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
                <span class="k">if</span> <span class="n">r8</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="n">r8</span>
                <span class="k">else</span>
                  <span class="vi">@index</span> <span class="o">=</span> <span class="n">i6</span>
                  <span class="n">r6</span> <span class="o">=</span> <span class="kp">nil</span>
                <span class="k">end</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r6</span>
                <span class="n">s5</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
              <span class="k">else</span>
                <span class="k">break</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i5</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s5</span><span class="p">)</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsReferences0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_references</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_id_left</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_id_left</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_id_left</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">r0</span> <span class="o">=</span> <span class="n">_nt_local_part</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_id_left</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_id_right</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_id_right</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_id_right</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">r0</span> <span class="o">=</span> <span class="n">_nt_domain</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_id_right</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsSubject0</span>
      <span class="k">def</span> <span class="nf">unstructured</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_subject</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_subject</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_subject</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Subject&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">7</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">7</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Subject&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_unstructured</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsSubject0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_subject</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsComments0</span>
      <span class="k">def</span> <span class="nf">unstructured</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_comments</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_comments</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_comments</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Comments&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">8</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">8</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Comments&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_unstructured</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsComments0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_comments</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsKeywords0</span>
      <span class="k">def</span> <span class="nf">obs_phrase_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_keywords</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_keywords</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_keywords</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Keywords&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">8</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">8</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Keywords&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_obs_phrase_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsKeywords0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_keywords</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentFrom0</span>
      <span class="k">def</span> <span class="nf">mailbox_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_from</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_from</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_from</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-From&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">11</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">11</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-From&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_mailbox_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentFrom0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_from</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentSend0</span>
      <span class="k">def</span> <span class="nf">mailbox</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_send</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_send</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_send</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-Sender&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">13</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">13</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-Sender&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_mailbox</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentSend0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_send</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentDate0</span>
      <span class="k">def</span> <span class="nf">date_time</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_date</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_date</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_date</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-Date&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">11</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">11</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-Date&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_date_time</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentDate0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_date</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentTo0</span>
      <span class="k">def</span> <span class="nf">address_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_to</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_to</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_to</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-To&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">9</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">9</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-To&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentTo0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_to</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentCc0</span>
      <span class="k">def</span> <span class="nf">address_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_cc</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_cc</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_cc</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-Cc&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">9</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">9</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-Cc&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentCc0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_cc</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentBcc0</span>
      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_bcc</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_bcc</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_bcc</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-Bcc&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">10</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-Bcc&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">i5</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="k">if</span> <span class="n">r6</span>
              <span class="n">r5</span> <span class="o">=</span> <span class="n">r6</span>
            <span class="k">else</span>
              <span class="n">r8</span> <span class="o">=</span> <span class="n">_nt_CFWS</span>
              <span class="k">if</span> <span class="n">r8</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">r8</span>
              <span class="k">else</span>
                <span class="n">r7</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
              <span class="k">end</span>
              <span class="k">if</span> <span class="n">r7</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="n">r7</span>
              <span class="k">else</span>
                <span class="vi">@index</span> <span class="o">=</span> <span class="n">i5</span>
                <span class="n">r5</span> <span class="o">=</span> <span class="kp">nil</span>
              <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r9</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r9</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentBcc0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_bcc</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentMid0</span>
      <span class="k">def</span> <span class="nf">msg_id</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_mid</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_mid</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_mid</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-Message-ID&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">17</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">17</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-Message-ID&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_msg_id</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentMid0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_mid</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsResentRply0</span>
      <span class="k">def</span> <span class="nf">address_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_resent_rply</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_rply</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_rply</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Resent-Reply-To&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">15</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">15</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Resent-Reply-To&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_address_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsResentRply0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_resent_rply</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsReturn0</span>
      <span class="k">def</span> <span class="nf">path</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_return</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_return</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_return</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Return-Path&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">11</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">11</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Return-Path&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_path</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsReturn0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_return</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsReceived0</span>
      <span class="k">def</span> <span class="nf">name_val_list</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_received</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_received</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_received</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;Received&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">8</span><span class="p">))</span>
        <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">8</span>
      <span class="k">else</span>
        <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;Received&quot;</span><span class="p">)</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_name_val_list</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsReceived0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_received</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_path</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_path</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_path</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">r0</span> <span class="o">=</span> <span class="n">_nt_obs_angle_addr</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_path</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

    <span class="k">module</span> <span class="nn">ObsOptional0</span>
      <span class="k">def</span> <span class="nf">field_name</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">unstructured</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">CRLF</span>
        <span class="n">elements</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">_nt_obs_optional</span>
      <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
      <span class="k">if</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_optional</span><span class="o">].</span><span class="n">has_key?</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_optional</span><span class="o">][</span><span class="n">index</span><span class="o">]</span>
        <span class="k">if</span> <span class="n">cached</span>
          <span class="n">cached</span> <span class="o">=</span> <span class="no">SyntaxNode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">cached</span> <span class="o">==</span> <span class="kp">true</span>
          <span class="vi">@index</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">end</span>
        <span class="k">end</span>
        <span class="k">return</span> <span class="n">cached</span>
      <span class="k">end</span>

      <span class="n">i0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="o">[]</span>
      <span class="n">r1</span> <span class="o">=</span> <span class="n">_nt_field_name</span>
      <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r1</span>
      <span class="k">if</span> <span class="n">r1</span>
        <span class="n">s2</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="o">[]</span><span class="p">,</span> <span class="n">index</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">r3</span> <span class="o">=</span> <span class="n">_nt_WSP</span>
          <span class="k">if</span> <span class="n">r3</span>
            <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">r3</span>
          <span class="k">else</span>
            <span class="k">break</span>
          <span class="k">end</span>
        <span class="k">end</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i2</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r2</span>
        <span class="k">if</span> <span class="n">r2</span>
          <span class="k">if</span> <span class="n">has_terminal?</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="vi">@index</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">terminal_parse_failure</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="n">r4</span> <span class="o">=</span> <span class="kp">nil</span>
          <span class="k">end</span>
          <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r4</span>
          <span class="k">if</span> <span class="n">r4</span>
            <span class="n">r5</span> <span class="o">=</span> <span class="n">_nt_unstructured</span>
            <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r5</span>
            <span class="k">if</span> <span class="n">r5</span>
              <span class="n">r6</span> <span class="o">=</span> <span class="n">_nt_CRLF</span>
              <span class="n">s0</span> <span class="o">&lt;&lt;</span> <span class="n">r6</span>
            <span class="k">end</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">s0</span><span class="o">.</span><span class="n">last</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="n">instantiate_node</span><span class="p">(</span><span class="no">SyntaxNode</span><span class="p">,</span><span class="n">input</span><span class="p">,</span> <span class="n">i0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">s0</span><span class="p">)</span>
        <span class="n">r0</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="no">ObsOptional0</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="vi">@index</span> <span class="o">=</span> <span class="n">i0</span>
        <span class="n">r0</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="k">end</span>

      <span class="n">node_cache</span><span class="o">[</span><span class="ss">:obs_optional</span><span class="o">][</span><span class="n">start_index</span><span class="o">]</span> <span class="o">=</span> <span class="n">r0</span>

      <span class="n">r0</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="k">class</span> <span class="nc">RFC2822ObsoleteParser</span> <span class="o">&lt;</span> <span class="no">Treetop</span><span class="o">::</span><span class="no">Runtime</span><span class="o">::</span><span class="no">CompiledParser</span>
    <span class="kp">include</span> <span class="no">RFC2822Obsolete</span>
  <span class="k">end</span>

<span class="k">end</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/mail",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
